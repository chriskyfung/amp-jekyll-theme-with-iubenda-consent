<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="robots" content="noindex">
  <title>AMP Cookie Consent</title>

  <script>
    // Enable consent mode TCF integration
    window['gtag_enable_tcf_support'] = true;
  </script>
  <script>
    // Define dataLayer and the gtag function.
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    
    // Set default consent to 'denied' as a placeholder
    // Determine actual values based on your own requirements
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'ad_user_data': 'denied',
      'ad_personalization': 'denied',
      'analytics_storage': 'denied'
    });

    //behavior specific for end-users in the US, AU, HK, SG
    gtag('consent', 'default', {
      'ad_storage': 'granted',
      'ad_user_data': 'granted',
      'ad_personalization': 'granted',
      'analytics_storage': 'granted',
      'region': ['US', 'AU', 'HK', 'SG']
    });

  </script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HP4LN87NJE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('set', 'linker', {
      'domains': ['https://chriskyfung.github.io']
    });
    gtag('js', new Date());
    gtag('set', 'page_location', window.parent.location.href || window.location.href);
    gtag('set', 'page_referrer', window.parent.document.referrer || document.referrer);
    gtag('set', 'page_title', window.parent.document.title || document.title);
    gtag('config', 'G-HP4LN87NJE', {
      'send_page_view': false
    });
  </script>
</head>

<body class="iubenda-cookie-solution">
  <span class="iubenda-cs-preferences-link"></span>
  <script type="text/javascript">
    const searchParams = new URLSearchParams(window.location.search);
    const geo_groups = searchParams.get("groups");
    const country_code = searchParams.get("country");
    console.log("Geo groups: " + geo_groups);
    console.log("Country code: " + country_code);

    var _iub = _iub || [];
    // Your own Privacy Controls and Cookie Solution configuration
    _iub.csConfiguration = {
      lang: 'en',
      siteId: 3921623, // Your own site ID
      cookiePolicyId: 27840875, // Your own cookie policy ID
      enableTcf: true,
      askConsentIfCMPNotFound: true,
      googleAdditionalConsentMode: true,
      googleAdsPreferenceManagement: true,
      floatingPreferencesButtonDisplay: false,
      purposes: '1, 2, 3, 4, 5',
      tcfPurposes: {
        '1': 'consent_only',
        '2': 'consent_only',
        '3': 'consent_only',
        '4': 'consent_only',
        '5': 'consent_only',
        '6': 'consent_only',
        '7': 'consent_only',
        '8': 'consent_only',
        '9': 'consent_only',
        '10': 'consent_only'
      },
      banner: {
        acceptButtonDisplay: true, // Recommended
        customizeButtonDisplay: true, // Recommended
        rejectButtonDisplay: true // Advisable
      }
    };
  </script>
  <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
</body>

</html>

